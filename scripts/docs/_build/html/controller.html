<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>controller module &mdash; Visual Servoing  documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="obstacle_detection module" href="obstacle_detection.html" />
    <link rel="prev" title="scripts" href="modules.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="index.html" class="icon icon-home"> Visual Servoing
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="modules.html">scripts</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">controller module</a></li>
<li class="toctree-l2"><a class="reference internal" href="obstacle_detection.html">obstacle_detection module</a></li>
<li class="toctree-l2"><a class="reference internal" href="path_planning.html">path_planning module</a></li>
<li class="toctree-l2"><a class="reference internal" href="pose_estimation.html">pose_estimation module</a></li>
<li class="toctree-l2"><a class="reference internal" href="utils.html">utils module</a></li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Visual Servoing</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="modules.html">scripts</a> &raquo;</li>
      <li>controller module</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/controller.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <div class="section" id="module-controller">
<span id="controller-module"></span><h1>controller module<a class="headerlink" href="#module-controller" title="Permalink to this headline"></a></h1>
<dl class="py class">
<dt class="sig sig-object py" id="controller.Controller">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">controller.</span></span><span class="sig-name descname"><span class="pre">Controller</span></span><a class="headerlink" href="#controller.Controller" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Robot controller class using current and target homogeneous matrices</p>
<dl class="py method">
<dt class="sig sig-object py" id="controller.Controller.move_robot">
<span class="sig-name descname"><span class="pre">move_robot</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#controller.Controller.move_robot" title="Permalink to this definition"></a></dt>
<dd><p>Fix the angle of the current position according to the next position,
then move the robot to it, and finally perform parking.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="controller.Controller.send_velocity_to_robot">
<span class="sig-name descname"><span class="pre">send_velocity_to_robot</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">v</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">w</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#controller.Controller.send_velocity_to_robot" title="Permalink to this definition"></a></dt>
<dd><p>Publish angular and linear velocities to the robot, 
but first apply some speed limitations.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>v</strong> (<em>float</em>) – Linear velocity</p></li>
<li><p><strong>w</strong> (<em>float</em>) – Angular velocity</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="controller.Controller.set_current_pos">
<span class="sig-name descname"><span class="pre">set_current_pos</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">visual_servoing.msg._Pose_estimation_vectors.Pose_estimation_vectors</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#controller.Controller.set_current_pos" title="Permalink to this definition"></a></dt>
<dd><p>Calculate the rotational matrix from the rotational vector and apply some transformations
to get the homogeneous matrix and set it as the current position. Furthermore we calculate
theta using Euler angles.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>data</strong> (<em>Pose_estimation_vectors</em>) – Rotational and translational vectors</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="controller.Controller.set_target_pos">
<span class="sig-name descname"><span class="pre">set_target_pos</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">visual_servoing.msg._Pose_estimation_vectors.Pose_estimation_vectors</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#controller.Controller.set_target_pos" title="Permalink to this definition"></a></dt>
<dd><p>Calculate the rotational matrix from the rotational vector and apply some transformations
to get the homogeneous matrix and set it as the target position. Furthermore we calculate
theta using Euler angles.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>data</strong> (<em>Pose_estimation_vectors</em>) – Rotational and translational vectors</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="controller.Controller.stop_robot">
<span class="sig-name descname"><span class="pre">stop_robot</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#controller.Controller.stop_robot" title="Permalink to this definition"></a></dt>
<dd><p>Publish zero values for angular and linear velocity to /cmd_vel ROS topic, 
in order to stop the robot</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="controller.Controller.update_target_position_path">
<span class="sig-name descname"><span class="pre">update_target_position_path</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#controller.Controller.update_target_position_path" title="Permalink to this definition"></a></dt>
<dd><p>Update the target position path for each middlepoint</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>data</strong> (<em>Pose_estimation_vectors</em>) – Rotational and translational vectors</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="modules.html" class="btn btn-neutral float-left" title="scripts" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="obstacle_detection.html" class="btn btn-neutral float-right" title="obstacle_detection module" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2021, Emmanouil Markodimitrakis, Emmanouil Koutoulakis.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>